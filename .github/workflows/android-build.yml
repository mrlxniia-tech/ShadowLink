name: Flutter Android Build

on:
  push:
      branches: [ main ] # Se d√©clenche quand tu envoies du code sur main

      jobs:
        build:
            runs-on: ubuntu-latest

                steps:
                      - uses: actions/checkout@v4

                            - name: Set up Java
                                    uses: actions/setup-java@v4
                                            with:
                                                      distribution: 'zulu'
                                                                java-version: '17'

                                                                      - name: Set up Flutter
                                                                              uses: subosito/flutter-action@v2
                                                                                      with:
                                                                                                channel: 'stable'

                                                                                                      - name: Get dependencies
                                                                                                              run: flutter pub get

                                                                                                                    - name: Build APK
                                                                                                                            run: flutter build apk --debug

                                                                                                                                  - name: Upload APK
                                                                                                                                          uses: actions/upload-artifact@v4
                                                                                                                                                  with:
                                                                                                                                                            name: app-debug
                                                                                                                                                                      path: build/app/outputs/flutter-apk/app-debug.apk
                                                                                                                                                                      